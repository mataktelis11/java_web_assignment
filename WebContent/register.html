<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Register Form</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="style.css">
		<style>
				
			/* Makes the text of the buttons unselectable */
			.unselectable {
			    -webkit-touch-callout: none;
			    -webkit-user-select: none;
			    -khtml-user-select: none;
			    -moz-user-select: none;
			    -ms-user-select: none;
			    user-select: none;
			}
			
			body {
				font-family: Arial;
			}
			
			input[type=text], select, input[type=password] {
				width: 100%;
				padding: 12px 20px;
				margin: 8px 0;
				display: block;
				border: 1px solid #ccc;
				border-radius: 4px;
				box-sizing: border-box;
			}
			
			input[type=submit] {
				width: 100%;
				font-size: 20px;
				background-color: #04AA6D;
				color: white;
				padding: 14px 20px;
				margin: 8px 0;
				border: none;
				border-radius: 4px;
				cursor: pointer;
			}
			
			input[type=submit]:hover {
				background-color: #45a049;
			}
			
			div.container {
				border-radius: 5px;
				background-color: #f2f2f2;
				padding: 20px;
			}
			
			/* The message box is shown when the user clicks on the password field */
			#message {
				display:none;
				background: #f1f1f1;
				color: #000;
				position: relative;
				padding: 20px;
				margin-top: 10px;
			}
			
			#message p {
				padding: 10px 35px;
				font-size: 18px;
			}
			
			/* Add a green text color and a checkmark when the requirements are right */
			.valid {
			  color: green;
			}
			
			.valid:before {
				position: relative;
				left: -35px;
				content: "✔";
			}
			
			/* Add a red text color and an "x" when the requirements are wrong */
			.invalid {
				color: red;
			}
			
			.invalid:before {
				position: relative;
				left: -35px;
				content: "✖";
			}
			
			/* The message box is shown when the user clicks on the password field */
			#message2 {
				display:none;
				background: #f1f1f1;
				color: #000;
				position: relative;
				padding: 20px;
				margin-top: 10px;
			}
			
			#message2 p {
				padding: 10px 35px;
				font-size: 18px;
			}
		</style>
	</head>
	<body class="unselectable">
	
		<div class="header">
			<h1>Web Health</h1>
			<p>Doctor appointment search service</p>
		</div>
		
		<div class="navbar">
			  <a href="index.jsp">Home</a>
			  <a href="about.jsp">About</a>
			  <a href="login.html" class="right">Log in</a>
			  <a id="selected" href="register.html" class="right">Register</a>
		</div>
		
		<div class="offset"> </div>
		
		<div class="fmain">
			<form method="POST" action='patient'>
				<div class="container">
					<h1>Register</h1>
					<p>Please fill in this form to create an account as a <b>Patient</b>.</p>
					<hr>
					<input type="hidden" name="action" value="register" />
					<label for="name"><b>Name</b></label>
					<input type="text" placeholder="Enter Name.." name="name" id="name" required>
				
					<label for="surname"><b>Surname</b></label>
					<input type="text" placeholder="Enter Surname.." name="surname" id="surname" required>
					
					<label for="amka"><b>AMKA</b></label>
					<input type="text" placeholder="Enter AMKA.." name="amka" id="amka" required>
					
					<label for="username"><b>Username</b></label>
					<input type="text" id="username" name="username" placeholder="Enter Username.." required>
				
					<label for="psw"><b>Password</b></label>
					<input type="password" placeholder="Enter Password.." name="psw" id="psw" required>
				
					<label for="psw-repeat"><b>Repeat Password</b></label>
					<input type="password" placeholder="Repeat Password.." name="psw-repeat" id="psw-repeat" required>
					
					<div id="message">
					<h3>Password must contain the following:</h3>
						<p id="letter" class="invalid">A <b>lowercase</b> letter</p>
						<p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
						<p id="number" class="invalid">A <b>number</b></p>
						<p id="length" class="invalid">Minimum <b>8 characters</b></p>
					</div>
					
					<div id="message2">
						<p id="alert" class="invalid">Passwords must much</p>
					</div>
					
					<hr>
				
					<p>By creating an account you agree to our <a href="about.jsp">Terms & Privacy</a>.</p>
					<input type="submit" value="Click to register">
					<p>Already have an account? <a href="login.html">Log in</a>.</p>
				</div>
			</form>
		</div>
		
		

		<script>
		
		
			var myInput = document.getElementById("psw");
			var letter = document.getElementById("letter");
			var capital = document.getElementById("capital");
			var number = document.getElementById("number");
			var length = document.getElementById("length");
			var myInput2 = document.getElementById("psw-repeat");
			var alert = document.getElementById("alert");
			
			// When the user clicks on the password field, show the message box
			myInput.onfocus = function() {
				document.getElementById("message").style.display = "block";
				document.getElementById("message2").style.display = "none";
			}

			// When the user clicks outside of the password field, hide the message box
			myInput.onblur = function() {
				document.getElementById("message").style.display = "none";
			}
		

			// When the user clicks on the password field, show the message box
			myInput2.onfocus = function() {
				document.getElementById("message2").style.display = "block";
			}


		
			myInput2.onkeyup = function() {
				var text1 = myInput.value;
				var text2 = myInput2.value;
				if(text1 == text2) {
					alert.classList.remove("invalid");
					alert.classList.add("valid");
				} else {
					alert.classList.remove("valid");
					alert.classList.add("invalid");
				}
			}
			
			
			// When the user starts to type something inside the password field
			myInput.onkeyup = function() {
				// Validate lowercase letters
				var lowerCaseLetters = /[a-z]/g;
				if(myInput.value.match(lowerCaseLetters)) {  
					letter.classList.remove("invalid");
					letter.classList.add("valid");
				} else {
					letter.classList.remove("valid");
					letter.classList.add("invalid");
				}
				
				// Validate capital letters
				var upperCaseLetters = /[A-Z]/g;
				if(myInput.value.match(upperCaseLetters)) {  
					capital.classList.remove("invalid");
					capital.classList.add("valid");
				} else {
					capital.classList.remove("valid");
					capital.classList.add("invalid");
				}

				// Validate numbers
				var numbers = /[0-9]/g;
				if(myInput.value.match(numbers)) {  
					number.classList.remove("invalid");
					number.classList.add("valid");
				} else {
					number.classList.remove("valid");
					number.classList.add("invalid");
				}
			
				// Validate length
				if(myInput.value.length >= 8) {
					length.classList.remove("invalid");
					length.classList.add("valid");
				} else {
					length.classList.remove("valid");
					length.classList.add("invalid");
				}
			}
			// navbar 
			
			window.onscroll = function() {
				if(window.pageYOffset >= document.getElementsByClassName("header")[0].clientHeight) {
					document.getElementsByClassName("offset")[0].style.height = (document.getElementsByClassName("navbar")[0].clientHeight + "px");
					document.getElementsByClassName("navbar")[0].style.top = "0";
					document.getElementsByClassName("navbar")[0].style.position = "fixed";
				}
				else {
					document.getElementsByClassName("navbar")[0].style.position = "relative";
					document.getElementsByClassName("offset")[0].style.height = "0px";
				}
			}
		</script>
	
	</body>
</html>